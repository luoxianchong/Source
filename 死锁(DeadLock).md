# 死锁(DeadLock)

死锁是指两个或两个以上的可以被调度的单元在执行过程中，由于竞争资源或者由于彼此通信而造成的一种阻塞的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁。



### 四个必要条件

**1**）**互斥条件：**指对所分配到的资源进行排它性使用，即在一段时间内某资源只由一个进程占用。如果此时还有其它进程请求资源，则请求者只能等待，直至占有资源的进程用毕释放。

**2**）**请求和保持条件：**指进程已经保持至少一个资源，但又提出了新的资源请求，而该资源已被其它进程占有，此时请求进程阻塞，但又对自己已获得的其它资源保持不放。

**3**）**不剥夺条件：**指进程已获得的资源，在未使用完之前，不能被剥夺，只能在使用完时由自己释放。

**4**）**环路等待条件：**指在发生死锁时，必然存在一个进程——资源的环形链，即进程集合{P0，P1，P2，···，Pn}中的P0正在等待一个P1占用的资源；P1正在等待P2占用的资源，……，Pn正在等待已被P0占用的资源。



## 3、死锁避免

- 1、`破坏请求和等待条件`。 所有的进程在开始运行之前，必须一次性地申请其在整个运行过程中所需要的全部资源
- 2、`破坏不可抢占条件`。当进程新的资源未得到满足时，释放已占有的资源
- 3、`破坏环路等待条件`。 系统给每类资源赋予一个序号，每个进程按编号递增的请求资源，释放则相反

